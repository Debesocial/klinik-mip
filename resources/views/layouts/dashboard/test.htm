<canvas id="myCanvas" width="400" height="400" style="border: 1px solid #ccc;"></canvas>
<img id="sourceImage" src="D:\project\klinik-mip\public\assets\images\body.png" style="display: none;" />



<script>
  // Array untuk menyimpan tanda-tanda yang sudah ada
  let marks = [];

  // Fungsi untuk menggambar gambar di kanvas
  function drawImageOnCanvas() {
    const canvas = document.getElementById("myCanvas");
    const ctx = canvas.getContext("2d");
    const img = document.getElementById("sourceImage");
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

    // Menggambar kembali semua tanda yang sudah ada
    marks.forEach((mark) => {
      drawMark(ctx, mark.x, mark.y);
    });
  }

  // Fungsi untuk menggambar tanda silang di kanvas
  function drawMark(ctx, x, y) {
    ctx.beginPath();
    const size = 10; // Ukuran tanda silang
    ctx.moveTo(x - size, y - size);
    ctx.lineTo(x + size, y + size);
    ctx.moveTo(x + size, y - size);
    ctx.lineTo(x - size, y + size);
    ctx.strokeStyle = "blue";
    ctx.lineWidth = 2;
    ctx.stroke();
    ctx.closePath();

    // Menyimpan tanda yang sudah digambar ke dalam array marks
    marks.push({ x: x, y: y });
  }

  // Fungsi untuk mendapatkan koordinat saat kanvas diklik
  function getCoordinates(event) {
    const canvas = document.getElementById("myCanvas");
    const rect = canvas.getBoundingClientRect();
    const x = event.clientX - rect.left;
    const y = event.clientY - rect.top;
    const ctx = canvas.getContext("2d");

    // Menggambar gambar kembali untuk mengembalikan gambar asli dan tanda-tanda yang sudah ada
    drawImageOnCanvas();

    // Menggambar tanda silang di titik yang diklik
    drawMark(ctx, x, y);

    // Menampilkan koordinat
    console.log("X:", x, "Y:", y);
  }

  // Memanggil fungsi untuk menggambar gambar saat halaman dimuat
  window.onload = drawImageOnCanvas;

  // Menambahkan event listener untuk menghandle klik pada kanvas
  const canvas = document.getElementById("myCanvas");
  canvas.addEventListener("click", getCoordinates);
</script>
